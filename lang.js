const obj = {
    "lang": {
        "en": "en",
        "de": "de",
        "es": "es",
        "uk": "uk",
        "sr": "sr",
        "": ""
    },
    "title": {
        "en": "Ohm's law, formulas",
        "de": "Ohmsches Gesetz, Formeln",
        "es": "Ley de Ohm, fórmulas",
        "uk": "Закон Ома, формули",
        "sr": "Омов закон, формуле",
        "": ""
    },
    "uri": {
        "en": "V=RI",
        "de": "U=RI",
        "es": "V=RI",
        "uk": "U=RI",
        "sr": "U=RI",
        "": ""
    },
    "iur": {
        "en": "I=V/R",
        "de": "I=U/R",
        "es": "I=V/R",
        "uk": "I=U/R",
        "sr": "I=U/R",
        "": ""
    },
    "rui": {
        "en": "R=V/I",
        "de": "R=U/I",
        "es": "R=V/I",
        "uk": "R=U/I",
        "sr": "R=U/I",
        "": ""
    },
    "pui": {
        "en": "P=VI",
        "de": "P=UI",
        "es": "P=VI",
        "uk": "P=UI",
        "sr": "P=UI",
        "": ""
    },
    "upi": {
        "en": "V=P/I",
        "de": "U=P/I",
        "es": "V=P/I",
        "uk": "U=P/I",
        "sr": "U=P/I",
        "": ""
    },
    "ipu": {
        "en": "I=P/V",
        "de": "I=P/U",
        "es": "I=P/V",
        "uk": "I=P/U",
        "sr": "I=P/U",
        "": ""
    },
    "upr": {
        "en": "V=√PR",
        "de": "U=√PR",
        "es": "V=√PR",
        "uk": "U=√PR",
        "sr": "U=√PR",
        "": ""
    },
    "rup": {
        "en": "R=V²/P",
        "de": "R=U²/P",
        "es": "R=V²/P",
        "uk": "R=U²/P",
        "sr": "R=U²/P",
        "": ""
    },
    "pur": {
        "en": "P=V²/R",
        "de": "P=U²/R",
        "es": "P=V²/R",
        "uk": "P=U²/R",
        "sr": "P=U²/R",
        "": ""
    },
    "vo": {
        "en": "Voltage",
        "de": "Stromspannung",
        "es": "Tensión",
        "uk": "Напруга",
        "sr": "Напон",
        "": ""
    },
    "cu": {
        "en": "Current",
        "de": "Strom",
        "es": "Corriente",
        "uk": "Струм",
        "sr": "Струја",
        "": ""
    },
    "re": {
        "en": "Resistance",
        "de": "Widerstand",
        "es": "Resistencia",
        "uk": "Опір",
        "sr": "Отпор",
        "": ""
    },
    "po": {
        "en": "Power",
        "de": "Leistung",
        "es": "Potencia",
        "uk": "Потужність",
        "sr": "Снага",
        "": ""
    },
    "cosp": {
        "en": "Power factor",
        "de": "Leistungsfaktor",
        "es": "Factor de potencia",
        "uk": "Коефіцієнт потужності",
        "sr": "Фактор снаге",
        "": ""
    },
    "upicos": {
        "en": "V=P/Icos(φ)",
        "de": "U=P/Icos(φ)",
        "es": "V=P/Icos(φ)",
        "uk": "U=P/Icos(φ)",
        "sr": "U=P/Icos(φ)",
        "": ""
    },
    "ipucos": {
        "en": "I=P/Vcos(φ)",
        "de": "I=P/Ucos(φ)",
        "es": "I=P/Vcos(φ)",
        "uk": "I=P/Ucos(φ)",
        "sr": "I=P/Ucos(φ)",
        "": ""
    },
    "piucos": {
        "en": "P=IVcos(φ)",
        "de": "P=IUcos(φ)",
        "es": "P=IVcos(φ)",
        "uk": "P=IUcos(φ)",
        "sr": "P=IUcos(φ)",
        "": ""
    },
    "vu": {
        "en": "V",
        "de": "U",
        "es": "V",
        "uk": "U",
        "sr": "U",
        "": ""
    },
    "v": {
        "en": "V, volt",
        "de": "V, Volt",
        "es": "V, voltio, volt",
        "uk": "В, вольт",
        "sr": "V, волт",
        "": ""
    },
    "a": {
        "en": "A, amp, ampere",
        "de": "A, Ampere",
        "es": "A, amperio, ampere",
        "uk": "А, ампер",
        "sr": "А, ампер",
        "": ""
    },
    "om": {
        "en": "Ω, ohm",
        "de": "Ω, Ohm",
        "es": "Ω, ohmio, ohm",
        "uk": "Ω, ом",
        "sr": "Ω, ом",
        "": ""
    },
    "w": {
        "en": "W, watt",
        "de": "W, Watt",
        "es": "W, vatio, watt",
        "uk": "Вт, ват",
        "sr": "W, ват",
        "": ""
    },
    "cos": {
        "en": "cos(φ), cosine fi",
        "de": "cos(φ), Kosinus fi",
        "es": "cos(φ), coseno fi",
        "uk": "cos(φ), косинус фі",
        "sr": "cos(φ), косинус фи",
        "": ""
    },
    "cosch": {
        "en": "Consider power factor",
        "de": "Berücksichtigen Sie den Leistungsfaktor",
        "es": "Considere el factor de potencia",
        "uk": "Враховувати коефіцієнт потужності",
        "sr": "Узмите у обзир фактор снаге",
        "": ""
    },
    "text": {
        "en": "Ohm's law states that the electric current through a conductor between two points is directly proportional to the voltage across the two points.",
        "de": "Das ohmsche Gesetz besagt: Die Stärke des durch ein Objekt fließenden elektrischen Stroms ist proportional der elektrischen Spannung. Oder umgekehrt: Ist der als Quotient aus Spannung zu Stromstärke definierte elektrische Widerstand konstant, also unabhängig von Spannung und Stromstärke, so gilt am Objekt das ohmsche Gesetz; das Objekt hat dann ein ohmsches Verhalten.",
        "es": "La ley de Ohm establece que la diferencia de potencial que aplicamos entre los extremos de un conductor determinado es directamente proporcional a la intensidad de la corriente que circula por el citado conductor.",
        "uk": "Закон Ома стверджує, що сила струму у провіднику між двома точками прямо пропорційна напрузі на цих двох точках.",
        "sr": "Омов закон каже да је струја која пролази кроз проводник између две тачке директно пропорционална напону на истим тачкама тог проводника.",
        "": ""
    }
};

let sel = localStorage.getItem('lang');
if (sel) {
    lang(sel);
}
else {
    let navlen = navigator.language.slice(0, 2);
    if (navlen !== "ru") checklang(navlen);

    function checklang(navlen) {
        const langs = ["en", "de", "es", "uk", "sr"];
        for (let el of langs) {
            if (navlen == el) {
                lang(navlen);
                break
            }
            else { lang("en"); }
        }
    }
}
let selleng = document.querySelector('#l');
selleng.addEventListener('change', function () {
    let selected = selleng.value;
    lang(selected);

})

function lang(selected) {
    if (selected=="def") return;
    if (selected == "ru") {
        localStorage.setItem('lang', "def");
        document.location.reload();
        return
    }
    document.querySelector('html').setAttribute("lang", selected);
    let dataP = document.querySelectorAll('input[placeholder]');
    for (let key in obj) {

        if (key == "title") { document.querySelector('title').textContent = obj[key][selected] };
        if (key == 'vu') {
            let clas = document.querySelectorAll('.vu');
            clas.forEach(e => { e.textContent = obj[key][selected] });
        }
        let id = document.querySelector(`#${key}`);

        if (id) {
            id.textContent = obj[key][selected];
        }
        if (dataP) {
            dataP.forEach(e => {
                if (key == e.dataset.p) {
                    e.setAttribute("placeholder", obj[key][selected]);
                }
            })
        }
    }
    localStorage.setItem('lang', selected);

    document.querySelector(`#${selected}`).selected = true;
}
